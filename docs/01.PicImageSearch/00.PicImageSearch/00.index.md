---
title: PicImageSearchå¸®åŠ©æ–‡æ¡£
date: 2021-03-20 22:16:36
permalink: /wiki/picimagesearch/
categories:
  - é¡¹ç›®
  - PicImageSearch
tags:
  - PicImageSearch
  - wiki
  - SauceNAO
  - TraceMoe
  - Ascii2D
  - Iqdb
  - Google
  - BaiDu
  - E-hentai
  - Exhentai
author: 
  name: kitUIN
  link: https://github.com/kitUIN
article: true
comment: true
---
# PicImageSearch

![release](https://img.shields.io/github/v/release/kitUIN/PicImageSearch)
![issues](https://img.shields.io/github/issues/kitUIN/PicImageSearch)
![stars](https://img.shields.io/github/stars/kitUIN/PicImageSearch)
![forks](https://img.shields.io/github/forks/kitUIN/PicImageSearch)  

**æ•´åˆå›¾ç‰‡è¯†åˆ«api,ç”¨äºä»¥å›¾æœæº(ä»¥å›¾æœå›¾ï¼Œä»¥å›¾æœç•ª)**  
  
**æ”¯æŒSauceNAO,tracemoe,iqdb,ascii2d,google(è°·æ­Œè¯†å›¾),baidu(ç™¾åº¦è¯†å›¾)ç­‰**  
<!-- more -->
[<img src="https://github-readme-stats.vercel.app/api/pin/?username=kitUIN&amp;repo=PicImageSearch" alt="ReadMe Card" class="no-zoom">](https://github.com/kitUIN/PicImageSearch)


::: warning âš ï¸æ³¨æ„
å¸®åŠ©æ–‡æ¡£çœ‹å·¦ä¾§ç›®å½•åˆ—è¡¨  
è‹¥æœ‰æ”¹è¿›å»ºè®®æ¬¢è¿åº•ä¸‹è¯„è®º  
:::
## æ”¯æŒä»¥ä¸‹æœå›¾ç½‘ç«™
::: cardList 3
```yaml
- name: SauceNAO
  desc: 'SauceNAO Reverse Image Search'
  avatar: https://z3.ax1x.com/2021/03/21/64BclV.png
  link: https://saucenao.com # å¯é€‰
  bgColor: '#FFFFFF' # å¯é€‰ï¼Œé»˜è®¤var(--bodyBg)ã€‚é¢œè‰²å€¼æœ‰#å·æ—¶è¯·æ·»åŠ å•å¼•å·
  textColor: '#6854A1' # å¯é€‰ï¼Œé»˜è®¤var(--textColor)
- name: TraceMoe
  desc: 'Anime Scene Search by Image'
  avatar: https://z3.ax1x.com/2021/03/21/64B6S0.png
  link: https://trace.moe
  bgColor: '#718971'
  textColor: '#fff'
- name: Ascii2D
  desc: 'äºŒæ¬¡å…ƒç”»åƒè©³ç´°æ¤œç´¢'
  avatar: https://z3.ax1x.com/2021/03/21/64BgyT.png
  link: https://ascii2d.net
  bgColor: '#40394a'
  textColor: '#7eca9c'
- name: Iqdb
  desc: 'Multi-service image search'
  avatar: https://z3.ax1x.com/2021/03/21/64BWmF.png
  link: http://www.iqdb.org
  bgColor: '#f39189'
  textColor: '#046582'
- name: Googleè°·æ­Œè¯†å›¾
  desc: 'å›½å¤–ç¥å™¨'
  avatar: https://z3.ax1x.com/2021/03/21/64Bfw4.jpg
  link: https://www.google.com/imghp
  bgColor: '#caf7e3'
  textColor: '#7868e6'
- name: BaiDuç™¾åº¦è¯†å›¾
  desc: 'ç™¾åº¦ å·²æ­»'
  avatar: https://z3.ax1x.com/2021/03/21/64B2OU.jpg
  link: https://graph.baidu.com
  bgColor: '#edeef7'
  textColor: '#7868e6'
- name: E-hentai/Exhentai
  desc: 'Eç»…å£«'
  avatar: https://pic2.zhimg.com/v2-17efcdb7f1eb08b53bba4cddf93a043a_1440w.jpg
  link: https://e-hentai.org
  bgColor: '#5b383f'
  textColor: '#fff'
```
:::
::: note å»ºè®®â¤ï¸
éå¸¸å»ºè®®ç›´æ¥ä½¿ç”¨å¼‚æ­¥è¿›è¡Œå¼€å‘  
åŒæ­¥ä¸ºå¼‚æ­¥çš„[`é­”æ”¹ç‰ˆæœ¬`](https://github.com/kitUIN/PicImageSearch/blob/main/PicImageSearch/sync.py)  æ¥è‡ª: telethon/sync
:::
::: danger BugğŸ›
åŒæ­¥æƒ…å†µä¸‹,IDEå°†æ— æ³•è¯†åˆ«è¿”å›å€¼,ä¹Ÿå°±æ˜¯æ— æ³•å‡ºç°ç±»å‹æç¤º.
:::
::: tip æç¤ºâœ¨
æœ¬é¡¹ç›®ç»“æ„ç®€å•,å¤§ä½¬è¯·ç›´æ¥çœ‹æºç 
:::
## å¼‚æ­¥å¿«é€Ÿå¼€å§‹ğŸ‘¾

<code-group>

  <code-block title="SauceNao" active>

``` python
from PicImageSearch import Network, SauceNAO
from PicImageSearch.model import SauceNAOResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
url = r"images/test01.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡
api_key = "" # SauceNao API KEY

async with Network(proxies=proxies) as client:
    saucenao = SauceNAO(client=client, api_key=api_key)
    resp = await saucenao.search(url)
```

::: warning æ³¨æ„äº‹é¡¹
è‹¥æ˜¯ç½‘ç»œä¸å¥½ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <Badge text="é­”æ³•ä¸Šç½‘" type="warning" vertical="middle"/>  è®¿é—®[SauceNAO](https://saucenao.com/)  
å¿…é¡»ä½¿ç”¨`api_key`â¡ï¸[å‰å»ç”³è¯·](https://saucenao.com/user.php?page=search-api)
:::
  </code-block>

  <code-block title="TraceMoe" >

``` python
from PicImageSearch import Network, TraceMoe
from PicImageSearch.model import TraceMoeResponse

# proxies = "http://127.0.0.1:10809"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test05.jpg"
url = r"images/test05.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡

async with Network(proxies=proxies) as client:
    tracemoe = TraceMoe(client=client, mute=False, size=None)
    resp = await tracemoe.search(url)
```

  </code-block>
<code-block title="Ascii2D" >

``` python
from PicImageSearch import Ascii2D, Network
from PicImageSearch.model import Ascii2DResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
url = r"images/test01.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡
bovw = True  # æ˜¯å¦ä½¿ç”¨ç‰¹å¾æ£€ç´¢

async with Network(proxies=proxies) as client:
    ascii2d = Ascii2D(client=client, bovw=bovw)
    resp = await ascii2d.search(url)
```
::: warning æ³¨æ„äº‹é¡¹
ä¸å»ºè®®ä½¿ç”¨`res.raw[0]`,å› ä¸ºå…¶å†…å®¹å¯èƒ½æ˜¯ç©ºçš„  
åˆ¤ç©ºå¯ç”¨ä»£ç `if res.raw[0].url == "":`  
å»ºè®®ä»`res.raw[1]`å¼€å§‹ä½¿ç”¨
:::
  </code-block>
<code-block title="Iqdb/Iqdb3D" >

``` python
from PicImageSearch import Iqdb, Network
from PicImageSearch.model import IqdbResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
url = r"images/test01.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡

async with Network(proxies=proxies) as client:
    iqdb = Iqdb(client=client)
    resp = await iqdb.search(url)
    # resp = await iqdb.search_3d(url) # 3Dæœç´¢
```
  </code-block>
<code-block title="Google" >

``` python
from PicImageSearch import Google, Network
from PicImageSearch.model import GoogleResponse

proxies = "http://127.0.0.1:1081"
# proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test03.jpg"
url = r"images/test03.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡

async with Network(proxies=proxies) as client:
    google = Google(client=client)
    resp = await google.search(url) # ç¬¬ä¸€é¡µ
    resp2 = await google.goto_page(resp.get_page_url(2), 2) # ç¬¬äºŒé¡µ
```
::: warning æ³¨æ„äº‹é¡¹
ä¸å»ºè®®ä½¿ç”¨`res.raw[0]` `res.raw[1]`ï¼Œå› ä¸ºå…¶å†…å®¹å¯èƒ½æ˜¯ç©ºçš„  
å»ºè®®ä»`res.raw[2]`å¼€å§‹ä½¿ç”¨  
:::
  </code-block>
<code-block title="BaiDu" >

``` python
from PicImageSearch import BaiDu, Network
from PicImageSearch.model import BaiDuResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test02.jpg"
url = r"images/test02.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡

async with Network(proxies=proxies) as client:
    baidu = BaiDu(client=client)
    resp = await baidu.search(url)

```

  </code-block>
<code-block title="E-hentai/Exhentai" >

``` python
from PicImageSearch import EHentai, Network
from PicImageSearch.model import EHentaiResponse

# proxies = "http://127.0.0.1:10809"
proxies = None
file_path = r"images/test06.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡
cookies = None 
# æ³¨æ„ï¼šå¦‚æœè¦ä½¿ç”¨ EXHentai æœç´¢ï¼Œéœ€è¦æä¾› cookies(ipb_member_idä¸ipb_pass_hashä¸ºå¿…é¡»)
ex = False  # æ˜¯å¦ä½¿ç”¨ EXHentai æœç´¢


async with Network(proxies=proxies, cookies=cookies) as client:
    ehentai = EHentai(client=client)
    resp = await ehentai.search(file_path, ex=ex)
```

  </code-block>
</code-group>


## åŒæ­¥å¿«é€Ÿå¼€å§‹ğŸƒ
<code-group>

  <code-block title="SauceNao" active>

``` python
from PicImageSearch.sync import SauceNAO
from PicImageSearch.model import SauceNAOResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
url = r"images/test01.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡
api_key = "" # SauceNao API KEY


saucenao = SauceNAO(api_key=api_key)
resp = await saucenao.search(url)
```

::: warning æ³¨æ„äº‹é¡¹
è‹¥æ˜¯ç½‘ç»œä¸å¥½ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <Badge text="é­”æ³•ä¸Šç½‘" type="warning" vertical="middle"/>  è®¿é—®[SauceNAO](https://saucenao.com/)  
å¿…é¡»ä½¿ç”¨`api_key`â¡ï¸[å‰å»ç”³è¯·](https://saucenao.com/user.php?page=search-api)
:::
  </code-block>

  <code-block title="TraceMoe" >

``` python
from PicImageSearch.sync import TraceMoe
from PicImageSearch.model import TraceMoeResponse

# proxies = "http://127.0.0.1:10809"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test05.jpg"
url = r"images/test05.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡

tracemoe = TraceMoe(mute=False, size=None)
resp = tracemoe.search(url)
```

  </code-block>
<code-block title="Ascii2D" >

``` python
from PicImageSearch.sync import Ascii2D
from PicImageSearch.model import Ascii2DResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
url = r"images/test01.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡
bovw = True  # æ˜¯å¦ä½¿ç”¨ç‰¹å¾æ£€ç´¢


ascii2d = Ascii2D(bovw=bovw)
resp = ascii2d.search(url)
```
::: warning æ³¨æ„äº‹é¡¹
ä¸å»ºè®®ä½¿ç”¨`res.raw[0]`,å› ä¸ºå…¶å†…å®¹å¯èƒ½æ˜¯ç©ºçš„  
åˆ¤ç©ºå¯ç”¨ä»£ç `if res.raw[0].url == "":`  
å»ºè®®ä»`res.raw[1]`å¼€å§‹ä½¿ç”¨
:::
  </code-block>
<code-block title="Iqdb/Iqdb3D" >

``` python
from PicImageSearch.sync import Iqdb
from PicImageSearch.model import IqdbResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
url = r"images/test01.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡


iqdb = Iqdb()
resp = iqdb.search(url)
# resp = iqdb.search_3d(url) # 3Dæœç´¢
```
  </code-block>
<code-block title="Google" >

``` python
from PicImageSearch.sync import Google
from PicImageSearch.model import GoogleResponse

proxies = "http://127.0.0.1:1081"
# proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test03.jpg"
url = r"images/test03.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡


google = Google()
resp = google.search(url) # ç¬¬ä¸€é¡µ
resp2 = google.goto_page(resp.get_page_url(2), 2) # ç¬¬äºŒé¡µ
```
::: warning æ³¨æ„äº‹é¡¹
ä¸å»ºè®®ä½¿ç”¨`res.raw[0]` `res.raw[1]`ï¼Œå› ä¸ºå…¶å†…å®¹å¯èƒ½æ˜¯ç©ºçš„  
å»ºè®®ä»`res.raw[2]`å¼€å§‹ä½¿ç”¨  
:::
  </code-block>
<code-block title="BaiDu" >

``` python
from PicImageSearch.sync import BaiDu
from PicImageSearch.model import BaiDuResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
# url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test02.jpg"
url = r"images/test02.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡

baidu = BaiDu()
resp = baidu.search(url)

```

  </code-block>
<code-block title="E-hentai/Exhentai" >

``` python
from PicImageSearch.sync import EHentai
from PicImageSearch.model import EHentaiResponse

# proxies = "http://127.0.0.1:10809"
proxies = None
file_path = r"images/test06.jpg"  # æœç´¢æœ¬åœ°å›¾ç‰‡
cookies = None 
# æ³¨æ„ï¼šå¦‚æœè¦ä½¿ç”¨ EXHentai æœç´¢ï¼Œéœ€è¦æä¾› cookies(ipb_member_idä¸ipb_pass_hashä¸ºå¿…é¡»)
ex = False  # æ˜¯å¦ä½¿ç”¨ EXHentai æœç´¢


ehentai = EHentai()
resp = ehentai.search(file_path, ex=ex)
```

  </code-block>
</code-group>





## å‘å±•å†ç¨‹ğŸ“–
### èµ·å§‹ğŸ‘€ 
æ˜¯å‘ç°äº†ä¼—å¤šçš„æœå›¾å¼•æ“,æƒ³è¦éƒ¨ç½²åœ¨ä¸€ä¸ª[`ioo/opq`](https://github.com/opq-osc/OPQ) æœºå™¨äººå¹³å°ä¸Š,ä»¥æ­¤å®ç°QQæœºå™¨äººçš„è¯†å›¾åŠŸèƒ½,ä½†æ˜¯å‘ç°éƒ½æ˜¯`æ•£ä»¶`API,æ‰€ä»¥å°±èŒå‘äº†æ•´åˆä¸€ä¸ªçš„æƒ³æ³•.
### å‘å±•â›ï¸
æ¥è§¦äº†[`nonebot2`](https://github.com/nonebot/nonebot2) å¹³å°å,ä¸€ä½ä½¬åŠ å…¥äº†è¯¥é¡¹ç›®ä¸­ğŸ‘‰[`Neko Aria`](https://github.com/NekoAria)   
å¹¶ä¸”ä¸Šæ¥å°±æ˜¯å¤§é‡æ„,æ‰€ä»¥ç°åœ¨è¯¥é¡¹ç›®å·²ç»æ˜¯ä»–çš„å½¢çŠ¶äº†(~~è¿™å°±æ˜¯ç‰›å¤´äººå—?~~)