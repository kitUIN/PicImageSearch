---
title: Demo
date: 2021-03-20 22:16:36
permalink: /wiki/picimagesearch/Ascii2D/Demo/
article: false
categories:
  - é¡¹ç›®
  - PicImageSearch
  - Ascii2D
tags:
  - PicImageSearch
  - wiki
  - Ascii2D
author: 
  name: kitUIN
  link: https://github.com/kitUIN
comment: true
---
# Demo
## ç¤ºä¾‹
<code-group>

  <code-block title="å¼‚æ­¥" active>

```python
import asyncio

from loguru import logger

from PicImageSearch import Ascii2D, Network
from PicImageSearch.model import Ascii2DResponse

# proxies = "http://127.0.0.1:1081"
proxies = None
url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
file = "images/test01.jpg"
bovw = False  # æ˜¯å¦ä½¿ç”¨ç‰¹å¾æ£€ç´¢
bypass = False  # æ˜¯å¦ç»•è¿‡ DNS æ±¡æŸ“
verify_ssl = True  # æ˜¯å¦æ ¡éªŒ SSL è¯ä¹¦


@logger.catch()
async def test() -> None:
    async with Network(proxies=proxies, bypass=bypass, verify_ssl=verify_ssl) as client:
        ascii2d = Ascii2D(client=client, bovw=bovw)
        # resp = await ascii2d.search(url=url)
        resp = await ascii2d.search(file=file)
        show_result(resp)



def show_result(resp: Ascii2DResponse) -> None:
    # logger.info(resp.origin)  # åŸå§‹æ•°æ®
    logger.info(resp.url)  # æœç´¢ç»“æœé“¾æ¥
    selected = resp.raw[0]
    if not (selected.title or selected.url_list):
        selected = resp.raw[1]
    logger.info(selected.origin)
    logger.info(selected.thumbnail)
    logger.info(selected.title)
    logger.info(selected.author)
    logger.info(selected.author_url)
    logger.info(selected.url)
    logger.info(selected.url_list)
    logger.info(selected.hash)
    logger.info(selected.detail)
    logger.info("-" * 50)


if __name__ == "__main__":
    loop = asyncio.get_event_loop()
    loop.run_until_complete(test())
```
  </code-block>

  <code-block title="åŒæ­¥">

```python
from loguru import logger

from PicImageSearch.model import Ascii2DResponse
from PicImageSearch.sync import Ascii2D as Ascii2DSync

# proxies = "http://127.0.0.1:1081"
proxies = None
url = "https://raw.githubusercontent.com/kitUIN/PicImageSearch/main/demo/images/test01.jpg"
file = "images/test01.jpg"
bovw = False  # æ˜¯å¦ä½¿ç”¨ç‰¹å¾æ£€ç´¢
bypass = False  # æ˜¯å¦ç»•è¿‡ DNS æ±¡æŸ“
verify_ssl = True  # æ˜¯å¦æ ¡éªŒ SSL è¯ä¹¦


@logger.catch()
def test_sync() -> None:
    ascii2d = Ascii2DSync(
        proxies=proxies, bypass=bypass, verify_ssl=verify_ssl, bovw=bovw
    )
    resp = ascii2d.search(url=url)
    # resp = ascii2d.search(file=file)
    show_result(resp)  # type: ignore


def show_result(resp: Ascii2DResponse) -> None:
    # logger.info(resp.origin)  # åŸå§‹æ•°æ®
    logger.info(resp.url)  # æœç´¢ç»“æœé“¾æ¥
    selected = resp.raw[0]
    if not (selected.title or selected.url_list):
        selected = resp.raw[1]
    logger.info(selected.origin)
    logger.info(selected.thumbnail)
    logger.info(selected.title)
    logger.info(selected.author)
    logger.info(selected.author_url)
    logger.info(selected.url)
    logger.info(selected.url_list)
    logger.info(selected.hash)
    logger.info(selected.detail)
    logger.info("-" * 50)


if __name__ == "__main__":
    test_sync()
```
  </code-block>

</code-group>


::: cardList 2
```yaml
- name: å‰å¾€æŸ¥çœ‹
  desc: ğŸš€æµ‹è¯•æ–‡ä»¶Demo
  link: https://github.com/kitUIN/PicImageSearch/blob/main/demo/demo_ascii2d.py
  bgColor: '#DFEEE7'
  textColor: '#2A3344'
```
:::

::: warning æ³¨æ„
ä¸å»ºè®®ç›´æ¥ä½¿ç”¨`res.raw[0]`ï¼Œå› ä¸ºå…¶å†…å®¹å¯èƒ½æ˜¯ç©ºçš„
å»ºè®®åƒç¤ºä¾‹ä¸­é‚£æ ·åšåˆ¤æ–­
:::

::: tip ç¨‹åºè¾“å‡º,éƒ¨åˆ†è¿‡é•¿æ•°æ®å·²çœç•¥
```log
2022-03-27 17:18:34.344 | INFO     | __main__:show_result:36 - <div class="row item-box">...
2022-03-27 17:18:34.345 | INFO     | __main__:show_result:37 - https://ascii2d.net/thumbnail/6/e/0/d/6e0d18b51c232dc81b29f0c092c246e5.jpg
2022-03-27 17:18:34.345 | INFO     | __main__:show_result:38 - 2021.11.02
2022-03-27 17:18:34.345 | INFO     | __main__:show_result:39 - psb694954
2022-03-27 17:18:34.345 | INFO     | __main__:show_result:40 - https://twitter.com/intent/user?user_id=2940733338
2022-03-27 17:18:34.345 | INFO     | __main__:show_result:41 - https://twitter.com/psb694954/status/1455439388393963521
2022-03-27 17:18:34.345 | INFO     | __main__:show_result:42 - 2504x3180 JPEG 403.1KB
2022-03-27 17:18:34.346 | INFO     | __main__:show_result:43 - twitter
2022-03-27 17:18:34.346 | INFO     | __main__:show_result:44 - --------------------------------------------------

```
:::