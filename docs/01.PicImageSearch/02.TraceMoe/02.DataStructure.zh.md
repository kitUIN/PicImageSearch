---
title: è¿”å›ç±»å‹ç»“æ„è¯´æ˜
date: 2021-03-20 22:16:36
permalink: /wiki/picimagesearch/zh/TraceMoe/DataStructure/
article: false
categories:
  - é¡¹ç›®
  - PicImageSearch
  - TraceMoe
tags:
  - PicImageSearch
  - wiki
  - TraceMoe
author:
  name: kitUIN
  link: https://github.com/kitUIN
comment: true
---

# TraceMoe

### TraceMoeä¸»ç±»è¯´æ˜

```python
TraceMoe(
    mute=False,  # é¢„è§ˆè§†é¢‘æ˜¯å¦é™éŸ³ï¼ˆé»˜è®¤ä¸é™éŸ³ï¼‰
    size=None,  # é¢„è§ˆ è§†é¢‘/å›¾åƒ å¤§å°(å¯å¡«:s/m/l)(å°/ä¸­/å¤§)
    **requests_kwargs  # å…¶ä»–ç½‘ç»œå‚æ•°
)
```

::: details è·å–ä¸ªäººä¿¡æ¯(è·å–apiè¯·æ±‚é™åˆ¶ä¿¡æ¯)   <Badge text="é™„åŠ åŠŸèƒ½ "/>

```python
from PicImageSearch import TraceMoe, Network
from PicImageSearch.model import TraceMoeResponse
from loguru import logger

async with Network() as client:
    tracemoe = TraceMoe(client=client)
    resp = await tracemoe.me(key)
    logger.info(resp.id)  # IP åœ°å€ï¼ˆè®¿å®¢ï¼‰æˆ–ç”µå­é‚®ä»¶åœ°å€ï¼ˆç”¨æˆ·ï¼‰
    logger.info(resp.priority)  # ä¼˜å…ˆçº§
    logger.info(resp.concurrency)  # æœç´¢è¯·æ±‚æ•°é‡
    logger.info(resp.quota)  # æœ¬æœˆçš„æœç´¢é…é¢
    logger.info(resp.quotaUsed)  # æœ¬æœˆå·²ç»ä½¿ç”¨çš„æœç´¢é…é¢
```

::: note
åœ¨ `me()` æ–¹æ³•ä¸­æ·»åŠ  `key` å€¼ä»¥è·å–ä¿¡æ¯   
:heart:é€šè¿‡[èµåŠ©](https://soruly.github.io/trace.moe-api/#/limits?id=sponsor-tiers) è·å– `key` ,æé«˜é™åˆ¶
:::

## æ•°æ®è¿”å›å€¼åˆ—è¡¨

::: tip
æ•°æ®ç»“æ„ä¹Ÿå¯ä»¥æŸ¥é˜…**æºä»£ç **
::: cardList 2

```yaml
- name: æºä»£ç 
  desc: ğŸš€å¼ºçš„äººç›´æ¥çœ‹è¿™ä¸ª
  link: https://github.com/kitUIN/PicImageSearch/blob/main/PicImageSearch/model/tracemoe.py
  bgColor: '#DFEEE7'
  textColor: '#2A3344'
```

:::

::: note æƒ…å¢ƒ
ä»¥[`Demo`](/wiki/picimagesearch/TraceMoe/Demo#ç¤ºä¾‹) ä¸­çš„ä»£ç ä¸ºä¾‹å­
:::

| å˜é‡                 | å†…å®¹           | ç±»å‹   |
|--------------------|--------------|------|
| `resp.origin `     | åŸå§‹æ•°æ®         | dict |
| `resp.frameCount ` | æœç´¢çš„å¸§æ€»æ•°       | int  |
| `resp.error `      | é”™è¯¯ä¿¡æ¯         | str  |
| `resp.raw`         | ç»“æœè¿”å›å€¼ï¼ˆå…·ä½“è§ä¸‹è¡¨ï¼‰ | list |

::: tip
`resp.raw` å­˜å‚¨äº†æ‰€æœ‰çš„è¿”å›ç»“æœ  
ä¾‹å¦‚ `resp.raw[0]` å†…å­˜æ”¾äº†ç¬¬ä¸€æ¡æœç´¢ç»“æœ
:::

ä»¥ä¸‹åˆ—è¡¨ä»¥`resp.raw[0]`ä¸ºä¾‹

| å˜é‡                          | å†…å®¹                                             | ç±»å‹    |
|-----------------------------|------------------------------------------------|-------|
| `resp.raw[0].origin `       | åŸå§‹æ•°æ®                                           | dict  |
| `resp.raw[0].anime_info `   | åŸå§‹ç•ªå‰§æ ‡é¢˜ä¿¡æ¯                                       | dict  |
| `resp.raw[0].anilist`       | åŒ¹é…çš„[Anilist  ID](https://anilist.co/)          | int   |
| `resp.raw[0].idMal`         | åŒ¹é…çš„[MyAnimelist  ID](https://myanimelist.net/) | int   |
| `resp.raw[0].title`         | ç•ªå‰§åå­—(åŒ…å«å›½é™…,ç½—é©¬éŸ³,è‹±æ–‡)                              | dict  |
| `resp.raw[0].title_native`  | ç•ªå‰§å›½é™…åå­—                                         | str   |
| `resp.raw[0].title_romaji`  | ç•ªå‰§ç½—é©¬éŸ³åå­—                                        | str   |
| `resp.raw[0].title_english` | ç•ªå‰§è‹±æ–‡åå­—                                         | str   |
| `resp.raw[0].title_chinese` | ç•ªå‰§ä¸­æ–‡åå­—                                         | str   |
| `resp.raw[0].synonyms`      | å¤‡ç”¨è‹±æ–‡æ ‡é¢˜                                         | list  |
| `resp.raw[0].isAdult`       | æ˜¯å¦R18                                          | bool  |
| `resp.raw[0].From`          | åŒ¹é…åœºæ™¯çš„å¼€å§‹æ—¶é—´                                      | int   |
| `resp.raw[0].To`            | åŒ¹é…åœºæ™¯çš„ç»“æŸæ—¶é—´                                      | int   |
| `resp.raw[0].filename`      | æ‰¾åˆ°åŒ¹é…é¡¹çš„æ–‡ä»¶å                                      | str   |
| `resp.raw[0].episode`       | ä¼°è®¡çš„åŒ¹é…çš„ç•ªå‰§çš„é›†æ•°                                    | int   |
| `resp.raw[0].similarity`    | ç›¸ä¼¼åº¦ï¼Œç›¸ä¼¼æ€§ä½äº 87% çš„æœç´¢ç»“æœå¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ç»“æœ                   | float |
| `resp.raw[0].type`          | ç±»å‹                                             | str   |
| `resp.raw[0].format`        | å‘å¸ƒå¹³å°                                           | str   |
| `resp.raw[0].start_date`    | å‘å¸ƒæ—¥æœŸ                                           | dict  |
| `resp.raw[0].end_date`      | å®Œç»“æ—¥æœŸ                                           | dict  |
| `resp.raw[0].image`         | é¢„è§ˆå›¾ç‰‡åœ°å€                                         | str   |
| `resp.raw[0].cover_image`   | é¢„è§ˆç•ªå‰§å°é¢åœ°å€                                       | str   |
| `resp.raw[0].video`         | é¢„è§ˆè§†é¢‘åœ°å€                                         | str   |

## åŸå§‹æ•°æ®è¿”å›å€¼ å®ä¾‹JSON

::: details åŸå§‹æ•°æ®è¿”å›å€¼ å®ä¾‹JSON

```json
    {
  "frameCount": 12121350,
  "error": "",
  "result": [
    {
      "anilist": 11887,
      "filename": "Kokoro Connect - 05 (BD 1280x720 x264 AACx2).mp4",
      "episode": 5,
      "from": 1169.17,
      "to": 1174.92,
      "similarity": 0.9758578643762691,
      "video": "https://media.trace.moe/video/11887/Kokoro%20Connect%20-%2005%20(BD%201280x720%20x264%20AACx2).mp4?t\u003d1172.045\u0026token\u003dREUQ6vB5db3YYcJNvDnxrb4QoA",
      "image": "https://media.trace.moe/image/11887/Kokoro%20Connect%20-%2005%20(BD%201280x720%20x264%20AACx2).mp4?t\u003d1172.045\u0026token\u003dREUQ6vB5db3YYcJNvDnxrb4QoA"
    },
    {
      "anilist": 21703,
      "filename": "[Ohys-Raws] Fune o Amu - 05 (CX 1280x720 x264 AAC).mp4",
      "episode": 5,
      "from": 487.67,
      "to": 487.83,
      "similarity": 0.8391268802872566,
      "video": "https://media.trace.moe/video/21703/%5BOhys-Raws%5D%20Fune%20o%20Amu%20-%2005%20(CX%201280x720%20x264%20AAC).mp4?t\u003d487.75\u0026token\u003diVSsWaEVAcocKi0cMSVATTGf1O4",
      "image": "https://media.trace.moe/image/21703/%5BOhys-Raws%5D%20Fune%20o%20Amu%20-%2005%20(CX%201280x720%20x264%20AAC).mp4?t\u003d487.75\u0026token\u003diVSsWaEVAcocKi0cMSVATTGf1O4"
    },
    {
      "anilist": 21703,
      "filename": "[Leopard-Raws] Fune o Amu - 05 RAW (THK 1280x720 x264 AAC).mp4",
      "episode": 5,
      "from": 487.5,
      "to": 487.58,
      "similarity": 0.8371642646044424,
      "video": "https://media.trace.moe/video/21703/%5BLeopard-Raws%5D%20Fune%20o%20Amu%20-%2005%20RAW%20(THK%201280x720%20x264%20AAC).mp4?t\u003d487.53999999999996\u0026token\u003dciaYOUG0PBBcITNc2aV3LEbloo",
      "image": "https://media.trace.moe/image/21703/%5BLeopard-Raws%5D%20Fune%20o%20Amu%20-%2005%20RAW%20(THK%201280x720%20x264%20AAC).mp4?t\u003d487.53999999999996\u0026token\u003dciaYOUG0PBBcITNc2aV3LEbloo"
    },
    {
      "anilist": 21,
      "filename": "[OPFansMaplesnow][One_Piece][780][MP4].mp4",
      "episode": 780,
      "from": 716.08,
      "to": 716.75,
      "similarity": 0.8362752569452551,
      "video": "https://media.trace.moe/video/21/%5BOPFansMaplesnow%5D%5BOne_Piece%5D%5B780%5D%5BMP4%5D.mp4?t\u003d716.415\u0026token\u003dgib00MBIYdKYrmdfNV1KgDJp1s",
      "image": "https://media.trace.moe/image/21/%5BOPFansMaplesnow%5D%5BOne_Piece%5D%5B780%5D%5BMP4%5D.mp4?t\u003d716.415\u0026token\u003dgib00MBIYdKYrmdfNV1KgDJp1s"
    },
    {
      "anilist": 21,
      "filename": "[Skytree][æµ·è´¼ç‹][One_Piece][780][GB_JP][X264_AAC][720P][CRRIP][å¤©ç©ºæ ‘åŒè¯­å­—å¹•ç»„].mp4",
      "episode": 780,
      "from": 714.33,
      "to": 716.67,
      "similarity": 0.8351087470692394,
      "video": "https://media.trace.moe/video/21/%5BSkytree%5D%5B%E6%B5%B7%E8%B4%BC%E7%8E%8B%5D%5BOne_Piece%5D%5B780%5D%5BGB_JP%5D%5BX264_AAC%5D%5B720P%5D%5BCRRIP%5D%5B%E5%A4%A9%E7%A9%BA%E6%A0%91%E5%8F%8C%E8%AF%AD%E5%AD%97%E5%B9%95%E7%BB%84%5D.mp4?t\u003d715.5\u0026token\u003dL4G5sTqRwlgw9DK2lYNcpZhBIY",
      "image": "https://media.trace.moe/image/21/%5BSkytree%5D%5B%E6%B5%B7%E8%B4%BC%E7%8E%8B%5D%5BOne_Piece%5D%5B780%5D%5BGB_JP%5D%5BX264_AAC%5D%5B720P%5D%5BCRRIP%5D%5B%E5%A4%A9%E7%A9%BA%E6%A0%91%E5%8F%8C%E8%AF%AD%E5%AD%97%E5%B9%95%E7%BB%84%5D.mp4?t\u003d715.5\u0026token\u003dL4G5sTqRwlgw9DK2lYNcpZhBIY"
    },
    {
      "anilist": 4562,
      "filename": "ç—´æ¼¢åäººéšŠ THE ANIMATION 1 ã€œç²ç‰©ãŸã¡ã®é»„æ˜ã€œ.mp4",
      "episode": 1,
      "from": 4.5,
      "to": 4.5,
      "similarity": 0.8348533618245904,
      "video": "https://media.trace.moe/video/4562/%E7%97%B4%E6%BC%A2%E5%8D%81%E4%BA%BA%E9%9A%8A%20THE%20ANIMATION%201%20%E3%80%9C%E7%8D%B2%E7%89%A9%E3%81%9F%E3%81%A1%E3%81%AE%E9%BB%84%E6%98%8F%E3%80%9C.mp4?t\u003d4.5\u0026token\u003d8vcR8HnDaLOzAanzNBoTDO1CPzo",
      "image": "https://media.trace.moe/image/4562/%E7%97%B4%E6%BC%A2%E5%8D%81%E4%BA%BA%E9%9A%8A%20THE%20ANIMATION%201%20%E3%80%9C%E7%8D%B2%E7%89%A9%E3%81%9F%E3%81%A1%E3%81%AE%E9%BB%84%E6%98%8F%E3%80%9C.mp4?t\u003d4.5\u0026token\u003d8vcR8HnDaLOzAanzNBoTDO1CPzo"
    },
    {
      "anilist": 97821,
      "filename": "Alice to Zouroku - 03 (BD 1280x720 x264 AACx2).mp4",
      "episode": 3,
      "from": 663.17,
      "to": 663.25,
      "similarity": 0.8305322939690996,
      "video": "https://media.trace.moe/video/97821/Alice%20to%20Zouroku%20-%2003%20(BD%201280x720%20x264%20AACx2).mp4?t\u003d663.21\u0026token\u003doK2KAIG2vh7tAeQrqur4Kpjvc",
      "image": "https://media.trace.moe/image/97821/Alice%20to%20Zouroku%20-%2003%20(BD%201280x720%20x264%20AACx2).mp4?t\u003d663.21\u0026token\u003doK2KAIG2vh7tAeQrqur4Kpjvc"
    },
    {
      "anilist": 97821,
      "filename": "[Leopard-Raws] Alice to Zouroku - 03 RAW (SUN 1280x720 x264 AAC).mp4",
      "episode": 3,
      "from": 671.67,
      "to": 671.75,
      "similarity": 0.8305036829174742,
      "video": "https://media.trace.moe/video/97821/%5BLeopard-Raws%5D%20Alice%20to%20Zouroku%20-%2003%20RAW%20(SUN%201280x720%20x264%20AAC).mp4?t\u003d671.71\u0026token\u003dRvUQZEeEU5v1zwaetTjkJfkwL4",
      "image": "https://media.trace.moe/image/97821/%5BLeopard-Raws%5D%20Alice%20to%20Zouroku%20-%2003%20RAW%20(SUN%201280x720%20x264%20AAC).mp4?t\u003d671.71\u0026token\u003dRvUQZEeEU5v1zwaetTjkJfkwL4"
    },
    {
      "anilist": 21,
      "filename": "[Leopard-Raws] One Piece - 780 RAW (CX 1280x720 x264 AAC).mp4",
      "episode": 780,
      "from": 725.33,
      "to": 726.58,
      "similarity": 0.8289718918856834,
      "video": "https://media.trace.moe/video/21/%5BLeopard-Raws%5D%20One%20Piece%20-%20780%20RAW%20(CX%201280x720%20x264%20AAC).mp4?t\u003d725.955\u0026token\u003dbb0AjLcQrE3AuAu7wzvRWKyR6g",
      "image": "https://media.trace.moe/image/21/%5BLeopard-Raws%5D%20One%20Piece%20-%20780%20RAW%20(CX%201280x720%20x264%20AAC).mp4?t\u003d725.955\u0026token\u003dbb0AjLcQrE3AuAu7wzvRWKyR6g"
    },
    {
      "anilist": 12431,
      "filename": "[EMD][Uchuu Kyoudai][16][BIG5][X264_AAC][1280X720][9022A07D].mp4",
      "episode": 16,
      "from": 1259.67,
      "to": 1260.92,
      "similarity": 0.8265738245233267,
      "video": "https://media.trace.moe/video/12431/%5BEMD%5D%5BUchuu%20Kyoudai%5D%5B16%5D%5BBIG5%5D%5BX264_AAC%5D%5B1280X720%5D%5B9022A07D%5D.mp4?t\u003d1260.295\u0026token\u003dU5znosmmSIODGTYmdsyIlgqqYY",
      "image": "https://media.trace.moe/image/12431/%5BEMD%5D%5BUchuu%20Kyoudai%5D%5B16%5D%5BBIG5%5D%5BX264_AAC%5D%5B1280X720%5D%5B9022A07D%5D.mp4?t\u003d1260.295\u0026token\u003dU5znosmmSIODGTYmdsyIlgqqYY"
    }
  ]
}
    
```

:::